(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(62)},34:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),s=a.n(c),o=a(3),i=a(16),l=a(18),u=a(8),m=a(9),h=a(11),p=a(10),d=a(12),f=(a(34),a(13)),b=a(7),g=a.n(b),E=a(14),v=a(17),y=a.n(v),P=function(){var e=Object(E.a)(g.a.mark(function e(){var t,a=arguments;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"","https://mate-academy.github.io","/phone-catalogue-static/api/phones",e.abrupt("return",fetch("".concat("https://mate-academy.github.io").concat("/phone-catalogue-static/api/phones").concat(t,".json")).then(function(e){return e.json()}));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),N=function(e){var t=e.phones,a=e.addPhone;return r.a.createElement("div",{className:"phones-catalog"},r.a.createElement("h1",null,"Phones"),t.map(function(e){return r.a.createElement("article",{key:e.id,className:"phone-card"},r.a.createElement(o.b,{to:"/phones/".concat(e.id)},r.a.createElement("img",{src:e.imageUrl,alt:"phone",className:"phone-card__img"})),r.a.createElement(o.b,{to:"/phones/".concat(e.id)},e.name),r.a.createElement("p",null,e.snippet),r.a.createElement("button",{type:"button",className:"cart-btn",onClick:function(){return a(e)}},"Add to basket"))}))},k=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={phones:[],isLoaded:!1,filterValue:"",currentPage:1,phonesPerPage:10},a.loadData=Object(E.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:t=e.sent,a.setState({phones:t,isLoaded:!0});case 4:case"end":return e.stop()}},e)})),a.handleFilter=function(e){var t=e.target.value;a.setState({filterValue:t.toLowerCase()})},a.filterPhones=function(e){return a.state.phones.filter(function(t){return(t.id+t.snippet).toLowerCase().includes(e.trim())})},a.getSortedPhones=function(e){switch(e.target.value){case"age":return a.setState(function(e){return{phones:Object(i.a)(e.phones).sort(function(e,t){return e.age-t.age})}});case"alphabet":return a.setState(function(e){return{phones:Object(i.a)(e.phones).sort(function(e,t){return e.name.localeCompare(t.name)})}});default:return a.setState(function(e){return{phones:e.phones}})}},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this.state,t=e.isLoaded,a=e.filterValue,n=e.currentPage,c=e.phonesPerPage,s=this.filterPhones(a),o=n*c-c,i=n*c;return r.a.createElement("div",null,t?r.a.createElement("main",{className:"page-content"},r.a.createElement("div",{className:"filter"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"filter-input"},"Search:",r.a.createElement("input",{type:"text",id:"filter-input",className:"filter__input",value:a,onChange:this.handleFilter}))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"sort-field"},"Sort by:",r.a.createElement("select",{id:"sort-field",name:"sort-field",className:"filter__selector",onChange:this.getSortedPhones},r.a.createElement("option",{value:"age"},"Newest"),r.a.createElement("option",{value:"alphabet"},"Alphabetical"))))),r.a.createElement(N,{phones:s.slice(o,i),addPhone:this.props.addPhone})):r.a.createElement(y.a,{type:"ThreeDots",color:"#049dfcde",height:"100",width:"100"}))}}]),t}(r.a.Component),_=function(){return r.a.createElement("h1",{className:"home-page-title"},"Welcome!")},j=a(28),O=a.n(j),w=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={imageNumber:0},a.switchImage=function(e){a.setState({imageNumber:e})},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.details,n=t.addPhone,c=this.state.imageNumber;return r.a.createElement("div",null,r.a.createElement("img",{src:a.images[c],alt:"phone",className:"increased-img"}),r.a.createElement("h2",{className:"phone__title"},a.name),r.a.createElement("p",{className:"phone__description"},a.description),r.a.createElement("ul",{className:"phone-thumbs"},a.images.map(function(t,a){return r.a.createElement("li",{key:t},r.a.createElement("img",{onClick:function(){return e.switchImage(a)},className:O()("phone-thumbs__img",{selected:c===a}),src:t,alt:"phone"}))})),r.a.createElement("button",{type:"button",className:"cart-btn details-btn",onClick:function(){return n(a)}},"Add to basket"))}}]),t}(r.a.Component),C=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={phoneDetails:{},isLoaded:!1,error:""},a.loadData=Object(E.a)(g.a.mark(function e(){var t,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.phoneId,e.prev=1,e.next=4,P("/".concat(t));case 4:n=e.sent,a.setState({phoneDetails:n,isLoaded:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a.setState({error:e.t0});case 11:case"end":return e.stop()}},e,null,[[1,8]])})),a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this.state,t=e.phoneDetails,a=e.isLoaded,n=e.error;return r.a.createElement("div",null,n?r.a.createElement("h2",null,"Phone was not found"):r.a.createElement(r.a.Fragment,null,a?r.a.createElement(w,{details:t,addPhone:this.props.addPhone}):r.a.createElement(y.a,{type:"ThreeDots",color:"#049dfcde",height:"100",width:"100"})))}}]),t}(r.a.Component),S=function(e){var t=e.selectedPhones,a=e.removePhone,n=e.decreaseQuantity,c=e.increaseQuantity;return r.a.createElement("div",null,r.a.createElement("h1",{className:"basket-title"},"Added items"),t.length<1?r.a.createElement("p",{className:"basket-text"},"Shopping Cart is empty"):r.a.createElement("ul",{className:"shopping-list"},t.map(function(e){return r.a.createElement("li",{className:"phone-card"},r.a.createElement(o.b,{to:"/phones/".concat(e.id)},r.a.createElement("img",{src:e.image,alt:"phone",className:"shopping-list__img"})),r.a.createElement(o.b,{to:"/phones/".concat(e.id),className:"shopping-list__item-link"},e.id),r.a.createElement("button",{type:"button",name:"-",className:"cart-btn minus-btn",onClick:n},"-"),r.a.createElement("div",{className:"shopping-list__quantity"},"".concat(e.quantity," item(s)")),r.a.createElement("button",{type:"button",name:"+",className:"cart-btn plus-btn",onClick:c},"+"),r.a.createElement("button",{type:"button",className:"cart-btn remove-btn",onClick:function(){return a(e.id)}},"remove"))})))},x=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Page is not found"),r.a.createElement("p",null,"Please, return to the "),r.a.createElement(o.c,{to:"/"},"Home page"))},q=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={selectedPhones:[]},a.addPhone=function(e){a.setState(function(t){return{selectedPhones:t.selectedPhones.find(function(t){return t.id===e.id})?t.selectedPhones.map(function(t){return t.id===e.id?Object(l.a)({},t,{quantity:t.quantity+1}):t}):[].concat(Object(i.a)(t.selectedPhones),[{id:e.id,quantity:1,image:e.imageUrl||e.images[0]}])}})},a.removePhone=function(e){a.setState(function(t){return{selectedPhones:t.selectedPhones.filter(function(t){return t.id!==e})}})},a.increaseQuantity=function(){return a.setState(function(e){return{selectedPhones:e.selectedPhones.map(function(e){return Object(l.a)({},e,{quantity:e.quantity+1})})}})},a.decreaseQuantity=function(){return a.setState(function(e){return{selectedPhones:e.selectedPhones.map(function(e){return e.quantity>0?Object(l.a)({},e,{quantity:e.quantity-1}):e}).filter(function(e){return e.quantity>0})}})},a}return Object(d.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state.selectedPhones;return r.a.createElement("div",{className:"App"},r.a.createElement("nav",{className:"navigation"},r.a.createElement("ul",null,r.a.createElement("li",{className:"navigation__list-paragraph"},r.a.createElement(o.c,{to:"/",exact:!0,className:"navigation__link",activeClassName:"is-active"},"Home")),r.a.createElement("li",{className:"navigation__list-paragraph"},r.a.createElement(o.c,{to:"/phones",exact:!0,className:"navigation__link",activeClassName:"is-active"},"Phones"))),r.a.createElement("div",{className:"navigation__list-paragraph"},r.a.createElement(o.c,{to:"/basket",exact:!0,className:"navigation__link basket",activeClassName:"is-active"},r.a.createElement("img",{src:"img/basket.png",className:"basket__img",alt:"basket"})),t.length>0?r.a.createElement("span",{className:"basket__added-items-quantity"},t.length):r.a.createElement(r.a.Fragment,null))),r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/",exact:!0,component:_}),r.a.createElement(f.a,{path:"/phones",exact:!0,render:function(){return r.a.createElement(k,{addPhone:e.addPhone})}}),r.a.createElement(f.a,{path:"/phones/:phoneId",render:function(t){var a=t.match;return r.a.createElement(C,{phoneId:a.params.phoneId,addPhone:e.addPhone})}}),r.a.createElement(f.a,{path:"/basket",exact:!0,render:function(){return r.a.createElement(S,{selectedPhones:t,removePhone:e.removePhone,increaseQuantity:e.increaseQuantity,decreaseQuantity:e.decreaseQuantity})}}),r.a.createElement(f.a,{component:x})))}}]),t}(r.a.Component);s.a.render(r.a.createElement(o.a,null,r.a.createElement(q,null)),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.c8500c8b.chunk.js.map