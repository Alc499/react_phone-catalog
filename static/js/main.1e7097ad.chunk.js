(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(62)},34:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(26),s=a.n(l),i=a(3),r=a(17),o=a(8),m=a(9),u=a(11),p=a(10),h=a(12),d=(a(34),a(13)),E=function(e){var t=e.selectedPhones;return c.a.createElement("header",null,c.a.createElement("nav",{className:"navigation"},c.a.createElement("ul",null,c.a.createElement("li",{className:"navigation__list-paragraph"},c.a.createElement(i.c,{to:"/",exact:!0,className:"navigation__link",activeClassName:"is-active"},"Home")),c.a.createElement("li",{className:"navigation__list-paragraph"},c.a.createElement(i.c,{to:{pathname:"/phones",search:"page=1&perPage=8&sort=age"},exact:!0,className:"navigation__link",activeClassName:"is-active"},"Phones"))),c.a.createElement("div",{className:"navigation__list-paragraph"},c.a.createElement(i.c,{to:"/basket",exact:!0,className:"navigation__link basket",activeClassName:"is-active"},c.a.createElement("img",{src:"img/basket.png",className:"basket__img",alt:"basket"})),t.length>0?c.a.createElement("span",{className:"basket__added-items-quantity"},t.length):c.a.createElement(c.a.Fragment,null))))},_=a(7),f=a.n(_),g=a(14),b=a(18),N=a.n(b),v=(a(25),function(){var e=Object(g.a)(f.a.mark(function e(){var t,a=arguments;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"","https://mate-academy.github.io","/phone-catalogue-static/api/phones",e.abrupt("return",fetch("".concat("https://mate-academy.github.io").concat("/phone-catalogue-static/api/phones").concat(t,".json")).then(function(e){return e.json()}));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()),y=function(e){var t=e.phones,a=e.addPhone,n=e.selectedPhones,l=e.increaseQuantity,s=e.decreaseQuantity;return c.a.createElement("section",{className:"phones-catalog"},c.a.createElement("h1",null,"Phones"),c.a.createElement("div",{className:"phone-cards-wrapper"},t.map(function(e){return c.a.createElement("article",{key:e.id,className:"phone-card"},c.a.createElement("div",{className:"phone-card__wrapper"},c.a.createElement(i.b,{to:"/details/".concat(e.id)},c.a.createElement("img",{src:e.imageUrl,alt:"phone",className:"phone-card__img"})),c.a.createElement(i.b,{to:"/details/".concat(e.id),className:"phone-card__title"},e.name),n.find(function(t){return t.id===e.id})?c.a.createElement(c.a.Fragment,null,function(){var t=n.find(function(t){return t.id===e.id});return c.a.createElement("div",{key:t.id,className:"phone-card__quantity-btns"},c.a.createElement("button",{type:"button",name:"-",className:" cart-btn phone-card__quantity-btns-btn quantity-btn ",onClick:function(){return s(t.id)}},"-"),c.a.createElement("div",{className:"phone-card__quantity"},"".concat(t.quantity,"\n                            ").concat(t.quantity>1?"items":"item","\n                          ")),c.a.createElement("button",{type:"button",name:"+",className:" cart-btn phone-card__quantity-btns-btn quantity-btn ",onClick:function(){return l(t.id)}},"+"))}()):c.a.createElement("button",{type:"button",className:"cart-btn",onClick:function(){return a(e)}},"Add to basket"),c.a.createElement("div",{className:"phone-card__description-wrapper"},c.a.createElement("p",{className:"phone-card__description"},e.snippet))))})))},P=function(e){var t=e.filterValue,a=e.handleFilter;return c.a.createElement("div",{className:"filter"},c.a.createElement("div",{className:"filter__input-wrapper"},c.a.createElement("input",{type:"text",id:"filter-input",className:"filter__input",value:t,onChange:a,placeholder:"Search: "})))},k=function(e){for(var t=e.phonesPerPage,a=e.totalPhones,n=e.changeCurrentPage,l=Math.ceil(a/t),s=[],i=1;i<=l;i+=1)s.push(i);return c.a.createElement("ul",{className:"pagination"},s.map(function(e){return c.a.createElement("li",{key:e},c.a.createElement("button",{type:"button",className:"pagination__page",value:e,onClick:n},e))}))},S=function(e){var t=e.changePerPageAmount;return c.a.createElement("label",{htmlFor:"posts-amount",className:"selector"},"Phones Amount:",c.a.createElement("select",{id:"posts-amount",onChange:t,className:"selector__phones-amount",defaultValue:8},c.a.createElement("option",{value:8},"8"),c.a.createElement("option",{value:12},"12"),c.a.createElement("option",{value:16},"16"),c.a.createElement("option",{value:20},"20")))},w=function(e,t){switch(t){case"age":return Object(r.a)(e).sort(function(e,t){return e.age-t.age});case"alphabet":return Object(r.a)(e).sort(function(e,t){return e.name.localeCompare(t.name)});default:return e}},C=a(16),q=a.n(C),j=function(e){var t=e.getSortedPhones,a=e.sortField;return c.a.createElement("div",{className:"sorter"},c.a.createElement("span",{className:"sorter__label"},"Sort by:"),c.a.createElement("ul",{className:"sorter__items"},c.a.createElement("li",{className:q()("sorter__item",{"sorter__item-active":"age"===a}),onClick:function(){return t("age")}},"Newest"),c.a.createElement("li",{className:q()("sorter__item",{"sorter__item-active":"alphabet"===a}),onClick:function(){return t("alphabet")}},"Alphabetical")))},O=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(c)))).state={phones:[],isLoaded:!1},a.loadData=Object(g.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:t=e.sent,a.setState({phones:t,isLoaded:!0});case 4:case"end":return e.stop()}},e)})),a.handleFilter=function(e){var t=e.target.value,n=a.props,c=n.location,l=n.history,s=new URLSearchParams(c.search);""===t?s.delete("querry"):s.set("querry",t),s.set("page",1),l.push({pathname:"/phones",search:"?".concat(s.toString())})},a.filterPhones=function(e){return a.state.phones.filter(function(t){return(t.id+t.snippet).toLowerCase().includes(e.trim())})},a.handleSort=function(e){var t=a.props,n=t.location,c=t.history,l=new URLSearchParams(n.search);l.set("sort",e),c.push({pathname:"/phones",search:"?".concat(l.toString())})},a.changeCurrentPage=function(e){var t=e.target.value,n=a.props,c=n.location,l=n.history,s=new URLSearchParams(c.search);s.set("page",t),l.push({pathname:"/phones",search:"?".concat(s.toString())})},a.changePerPageAmount=function(e){var t=e.target.value,n=a.props,c=n.location,l=n.history,s=new URLSearchParams(c.search);s.set("perPage",t),s.set("page",1),l.push({pathname:"/phones",search:"?".concat(s.toString())})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this.state.isLoaded,t=this.props,a=t.addPhone,n=t.selectedPhones,l=t.increaseQuantity,s=t.decreaseQuantity,i=t.location,r=new URLSearchParams(i.search),o=r.get("perPage"),m=r.get("page"),u=r.get("querry")?r.get("querry"):"",p=r.get("sort"),h=this.filterPhones(u),d=w(h,p),E=m*o-o,_=m*o;return c.a.createElement("div",null,e?c.a.createElement("main",{className:"page-content"},c.a.createElement(P,{filterValue:u,handleFilter:this.handleFilter}),c.a.createElement("div",{className:"page-content__catalog"},c.a.createElement(j,{getSortedPhones:this.handleSort,sortField:p}),c.a.createElement("div",{className:"pagination-and-selector"},c.a.createElement(k,{phonesPerPage:o,totalPhones:d.length,changeCurrentPage:this.changeCurrentPage}),c.a.createElement(S,{changePerPageAmount:this.changePerPageAmount})),c.a.createElement(y,{phones:d.slice(E,_),addPhone:a,selectedPhones:n,increaseQuantity:l,decreaseQuantity:s}),c.a.createElement(k,{phonesPerPage:o,totalPhones:d.length,changeCurrentPage:this.changeCurrentPage}),c.a.createElement("div",{className:"page-content__with-info"},"".concat(E+1," - ").concat(_<=d.length?_:d.length," of ").concat(d.length," posts")))):c.a.createElement("div",{className:"loader"},c.a.createElement(N.a,{type:"ThreeDots",color:"#049dfcde"})))}}]),t}(c.a.Component),Q=Object(d.f)(O),A=function(){return c.a.createElement("h1",{className:"home-page-title"},"Welcome!")},F=function(e){var t=e.isVisible,a=e.toggleParams,n=e.details,l=n.availability,s=n.battery,i=n.camera,r=n.connectivity,o=n.display,m=n.hardware,u=n.storage,p=n.sizeAndWeight;return c.a.createElement(c.a.Fragment,null,t?c.a.createElement("div",{className:"phone__params"},c.a.createElement("button",{type:"button",onClick:a,className:"cart-btn params-toggle-btn"},"Hide specifications"),c.a.createElement("ul",{className:"phone__params-list"},c.a.createElement("li",null,c.a.createElement("h3",null,"Availability"),c.a.createElement("ul",{className:"phone__specifications"},l.filter(function(e){return""!==e}).length>0?l.map(function(e){return c.a.createElement("li",null,e.replace(",",""))}):"-")),c.a.createElement("li",null,c.a.createElement("h3",null,"Battery"),c.a.createElement("ul",null,c.a.createElement("li",{className:"phone__specifications"},c.a.createElement("h4",{className:"phone__specifications-title"},"Stand by time:"),c.a.createElement("div",null,s.standbyTime)),c.a.createElement("li",{className:"phone__specifications"},c.a.createElement("h4",{className:"phone__specifications-title"},"Talk-time: "),c.a.createElement("div",null,s.talkTime)),c.a.createElement("li",{className:"phone__specifications"},c.a.createElement("h4",{className:"phone__specifications-title"},"Type: "),c.a.createElement("div",null,s.type)))),c.a.createElement("li",null,c.a.createElement("h3",null,"Camera"),c.a.createElement("ul",null,c.a.createElement(c.a.Fragment,null,i.features.filter(function(e){return""!==e}).length>0?c.a.createElement("li",{className:"phone__specifications"},c.a.createElement("h4",{className:"phone__specifications-title"},"Features:"),c.a.createElement("ul",{className:"phone__specifications-list"},i.features.map(function(e){return c.a.createElement("li",null,e)}))):"-"),c.a.createElement("li",{className:"phone__specifications"},c.a.createElement("h4",{className:"phone__specifications-title"},"Primary: "),c.a.createElement("div",null,i.primary?"".concat(i.primary):"-")))),c.a.createElement("li",null,c.a.createElement("h3",null,"Connectivity"),c.a.createElement("ul",null,c.a.createElement("li",{className:"phone__specifications"},c.a.createElement("h4",{className:"phone__specifications-title"},"Bluetooth: "),c.a.createElement("div",null,r.bluetooth)),c.a.createElement("li",{className:"phone__specifications"},c.a.createElement("h4",{className:"phone__specifications-title"},"Cell: "),c.a.createElement("div",null,r.cell)),c.a.createElement("li",{className:"phone__specifications"},c.a.createElement("h4",{className:"phone__specifications-title"},"GPS: "),c.a.createElement("div",null,r.gps?"Yes":"No")),c.a.createElement("li",{className:"phone__specifications"},c.a.createElement("h4",{className:"phone__specifications-title"},"infrared: "),c.a.createElement("div",null,r.infrared?"Yes":"No")),c.a.createElement("li",{className:"phone__specifications"},c.a.createElement("h4",{className:"phone__specifications-title"},"Wi-Fi: "),c.a.createElement("div",null,r.wifi)))),c.a.createElement("li",null,c.a.createElement("h3",null,"Display"),c.a.createElement("ul",null,c.a.createElement("li",{className:"phone__specifications"},c.a.createElement("h4",{className:"phone__specifications-title"},"Screen resolution:"),c.a.createElement("div",null,o.screenResolution)),c.a.createElement("li",{className:"phone__specifications"},c.a.createElement("h4",{className:"phone__specifications-title"},"Screen size:"),c.a.createElement("div",null,o.screenSize)),c.a.createElement("li",{className:"phone__specifications"},c.a.createElement("h4",{className:"phone__specifications-title"},"TouchScreen:"),c.a.createElement("div",null,o.touchScreen)))),c.a.createElement("li",null,c.a.createElement("h3",null,"Hardware"),c.a.createElement("ul",null,c.a.createElement("li",{className:"phone__specifications"},c.a.createElement("h4",{className:"phone__specifications-title"},"Accelerometer:"),c.a.createElement("div",null,m.accelerometer?"Yes":"No")),c.a.createElement("li",{className:"phone__specifications"},c.a.createElement("h4",{className:"phone__specifications-title"},"Audio Jack:"),c.a.createElement("div",null,m.audioJack)),c.a.createElement("li",{className:"phone__specifications"},c.a.createElement("h4",{className:"phone__specifications-title"},"CPU: "),c.a.createElement("div",null,m.cpu)),c.a.createElement("li",{className:"phone__specifications"},c.a.createElement("h4",{className:"phone__specifications-title"},"FM-radio: "),c.a.createElement("div",null,m.fmRadio?"Yes":"No")),c.a.createElement("li",{className:"phone__specifications"},c.a.createElement("h4",{className:"phone__specifications-title"},"Physical keyboard:"),c.a.createElement("div",null,m.physicalKeyboard?"Yes":"No")),c.a.createElement("li",{className:"phone__specifications"},c.a.createElement("h4",{className:"phone__specifications-title"},"USB: "),c.a.createElement("div",null,m.usb)))),c.a.createElement("li",null,c.a.createElement("h3",null,"Storage"),c.a.createElement("ul",null,c.a.createElement("li",{className:"phone__specifications"},c.a.createElement("h4",{className:"phone__specifications-title"},"Flash: "),c.a.createElement("div",null,u.flash)),c.a.createElement("li",{className:"phone__specifications"},c.a.createElement("h4",{className:"phone__specifications-title"},"RAM: "),c.a.createElement("div",null,u.ram)))),c.a.createElement("li",null,c.a.createElement("h3",null,"Size and weigth"),c.a.createElement("ul",null,c.a.createElement("li",{className:"phone__specifications"},c.a.createElement("h4",{className:"phone__specifications-title"},"Dimensions:"),c.a.createElement("ul",{className:"phone__specifications-list"},p.dimensions.map(function(e){return c.a.createElement("li",{key:e},e)}))),c.a.createElement("li",{className:"phone__specifications"},c.a.createElement("h4",{className:"phone__specifications-title"},"Weight: "),c.a.createElement("div",null,p.weight)))))):c.a.createElement("div",{className:"phone__params"},c.a.createElement("button",{type:"button",onClick:a,className:"cart-btn params-toggle-btn"},"Show specifications")))},x=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(c)))).state={imageNumber:0,isVisible:!1},a.switchImage=function(e){a.setState({imageNumber:e})},a.toggleParams=function(){a.setState(function(e){return{isVisible:!e.isVisible}})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.details,n=t.addPhone,l=t.selectedPhones,s=t.history,i=t.increaseQuantity,r=t.decreaseQuantity,o=this.state,m=o.imageNumber,u=o.isVisible;return c.a.createElement("div",{className:"phone"},c.a.createElement("div",{className:"phone__wrapper"},c.a.createElement("div",{className:"phone__main-info"},c.a.createElement("div",{className:"phone__images"},a.images.map(function(e,t){return c.a.createElement("img",{className:q()("phone__images-img",{"phone__images-img-selected":m===t}),src:e,alt:"phone",key:e})})),c.a.createElement("h2",{className:"phone__title"},a.name),c.a.createElement("p",{className:"phone__description"},a.description),c.a.createElement("ul",{className:"phone-thumbs"},a.images.map(function(t,a){return c.a.createElement("li",{key:t},c.a.createElement("img",{onClick:function(){return e.switchImage(a)},className:q()("phone-thumbs__img",{"phone-thumbs__img-selected":m===a}),src:t,alt:"phone"}))})),c.a.createElement("div",{className:"phone__btns"},l.find(function(e){return e.id===a.id})?c.a.createElement(c.a.Fragment,null,function(){var e=l.find(function(e){return e.id===a.id});return c.a.createElement("div",{key:e.id,className:"phone__quantity-btns-wrapper"},c.a.createElement("div",{className:"quantity-btns"},c.a.createElement("button",{type:"button",name:"-",className:" cart-btn phone-card__minus-btn quantity-btns__btn ",onClick:function(){return r(e.id)}},"-"),c.a.createElement("div",{className:"phone__quantity"},"".concat(e.quantity,"\n                                ").concat(e.quantity>1?"items":"item","\n                              ")),c.a.createElement("button",{type:"button",name:"+",className:" cart-btn phone-card__plus-btn quantity-btns__btn ",onClick:function(){return i(e.id)}},"+")))}()):c.a.createElement("button",{type:"button",className:"cart-btn return-and-add-btn",onClick:function(){return n(a)}},"Add to basket"),c.a.createElement("button",{type:"button",className:"cart-btn return-and-add-btn",onClick:function(){return s.goBack()}},"Return to catalog"))),c.a.createElement(F,{isVisible:u,toggleParams:this.toggleParams,details:a})))}}]),t}(c.a.Component),D=Object(d.f)(x),L=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(c)))).state={phoneDetails:{},isLoaded:!1,error:""},a.loadData=Object(g.a)(f.a.mark(function e(){var t,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.phoneId,e.prev=1,e.next=4,v("/".concat(t));case 4:n=e.sent,a.setState({phoneDetails:n,isLoaded:!0}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a.setState({error:e.t0});case 11:case"end":return e.stop()}},e,null,[[1,8]])})),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.loadData()}},{key:"render",value:function(){var e=this.state,t=e.phoneDetails,a=e.isLoaded,n=e.error,l=this.props,s=l.addPhone,i=l.selectedPhones,r=l.increaseQuantity,o=l.decreaseQuantity;return c.a.createElement("div",null,n?c.a.createElement("h2",null,"Phone was not found"):c.a.createElement(c.a.Fragment,null,a?c.a.createElement(D,{details:t,addPhone:s,selectedPhones:i,increaseQuantity:r,decreaseQuantity:o}):c.a.createElement("div",{className:"loader"},c.a.createElement(N.a,{type:"ThreeDots",color:"#049dfcde"}))))}}]),t}(c.a.Component),I=function(e){var t=e.selectedPhones,a=e.removePhone,n=e.decreaseQuantity,l=e.increaseQuantity;return c.a.createElement("div",{className:"basket-page"},c.a.createElement("div",{className:"basket-page__wrapper"},c.a.createElement("h1",{className:"basket-page__title"},"Added items"),t.length<1?c.a.createElement("p",{className:"basket-page__text"},"Shopping Cart is empty"):c.a.createElement("ul",{className:"basket-page__shopping-list"},t.map(function(e){return c.a.createElement("li",{key:e.id},c.a.createElement(i.b,{to:"/".concat(e.id)},c.a.createElement("img",{src:e.image,alt:"phone",className:"basket-page__shopping-list-img"})),c.a.createElement(i.b,{to:"/details/".concat(e.id),className:"basket-page__shopping-list-item-link"},e.id),c.a.createElement("div",{className:"basket-page__change-quantity-btns"},c.a.createElement("button",{type:"button",name:"-",className:" cart-btn basket-page__change-quantity-btns-btn quantity-btn ",onClick:function(){return n(e.id)}},"-"),c.a.createElement("div",{className:"basket-page__shopping-list-quantity"},"".concat(e.quantity,"\n                      ").concat(e.quantity>1?"items":"item","\n                    ")),c.a.createElement("button",{type:"button",name:"+",className:" cart-btn basket-page__change-quantity-btns-btn quantity-btn ",onClick:function(){return l(e.id)}},"+")),c.a.createElement("button",{type:"button",className:" cart-btn basket-page__shopping-list-remove-btn ",onClick:function(){return a(e.id)}},"remove"))}))))},U=function(){return c.a.createElement("div",{className:"not-found-page"},c.a.createElement("h1",null,"Page is not found"),c.a.createElement("p",null,"Please, return to the",c.a.createElement(i.c,{to:"/"},"Home page")))},R=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(c)))).state={selectedPhones:[]},a.addPhone=function(e){a.setState(function(t){return{selectedPhones:[].concat(Object(r.a)(t.selectedPhones),[{id:e.id,quantity:1,image:e.imageUrl||e.images[0]}])}})},a.removePhone=function(e){a.setState(function(t){return{selectedPhones:t.selectedPhones.filter(function(t){return t.id!==e})}})},a.increaseQuantity=function(e){return a.setState(function(t){return t.selectedPhones.find(function(t){return t.id===e}).quantity+=1,{selectedPhones:t.selectedPhones}})},a.decreaseQuantity=function(e){return a.setState(function(t){return t.selectedPhones.find(function(t){return t.id===e}).quantity-=1,{selectedPhones:t.selectedPhones.filter(function(e){return e.quantity>0})}})},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){localStorage.getItem("selectedPhones")&&this.setState({selectedPhones:JSON.parse(localStorage.getItem("selectedPhones"))})}},{key:"componentDidUpdate",value:function(){localStorage.setItem("selectedPhones",JSON.stringify(this.state.selectedPhones))}},{key:"render",value:function(){var e=this,t=this.state.selectedPhones;return c.a.createElement("div",{className:"App"},c.a.createElement(E,{selectedPhones:t}),c.a.createElement(d.c,null,c.a.createElement(d.a,{path:"/",exact:!0,component:A}),c.a.createElement(d.a,{path:"/phones",exact:!0,render:function(){return c.a.createElement(Q,{addPhone:e.addPhone,selectedPhones:t,increaseQuantity:e.increaseQuantity,decreaseQuantity:e.decreaseQuantity})}}),c.a.createElement(d.a,{path:"/details/:phoneId",exact:!0,render:function(a){var n=a.match;return c.a.createElement(L,{phoneId:n.params.phoneId,addPhone:e.addPhone,selectedPhones:t,increaseQuantity:e.increaseQuantity,decreaseQuantity:e.decreaseQuantity})}}),c.a.createElement(d.a,{path:"/basket",exact:!0,render:function(){return c.a.createElement(I,{selectedPhones:t,removePhone:e.removePhone,increaseQuantity:e.increaseQuantity,decreaseQuantity:e.decreaseQuantity})}}),c.a.createElement(d.a,{component:U})))}}]),t}(c.a.Component);s.a.render(c.a.createElement(i.a,null,c.a.createElement(R,null)),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.1e7097ad.chunk.js.map